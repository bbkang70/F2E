(function(e){function t(t){for(var a,r,o=t[0],l=t[1],c=t[2],h=0,p=[];h<o.length;h++)r=o[h],s[r]&&p.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0cee":function(e,t,n){},"1e25":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Player")],1)},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"player"},[n("audio",{ref:"playC"},[n("source",{attrs:{src:e.play_song,type:"audio/mpeg"}})]),n("div",{ref:"album",staticClass:"album"}),n("div",{staticClass:"control_outline"},[n("div",{staticClass:"control"},[n("div",{staticClass:"songTitle"},[e._v(e._s(e.songTitle))]),n("div",{staticClass:"albumTitle"},[e._v(e._s(e.albumTitle))]),n("div",{staticClass:"process"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.process,expression:"process"}],ref:"process",staticClass:"slider",attrs:{type:"range",min:"0",max:"1000"},domProps:{value:e.process},on:{mousedown:e.CheckMouseDown,mouseup:e.CheckMouseUp,change:e.ProcessChangeHandle,__r:function(t){e.process=t.target.value}}}),n("div",{staticClass:"processed",style:{width:e.calculatePercentage+"%"}})]),n("div",{staticClass:"timers"},[n("div",[e._v(e._s(this.toHHMMSS(e.currentTime))+" ")]),n("div",[e._v(e._s(this.toHHMMSS(e.maxTime))+" ")])]),n("div",{staticClass:"btn_list"},[n("div",{staticClass:"btn_ShufflePlayback"}),n("div",{staticClass:"btn_Rewind",on:{click:e.PlayPreHandle}}),0==e.playing?n("div",{staticClass:"btn_play",on:{click:e.playHandle}}):e._e(),1==e.playing?n("div",{staticClass:"btn_stop",on:{click:e.StopHandle}}):e._e(),n("div",{staticClass:"btn_Fast",on:{click:e.PlayNextHandle}}),n("div",{staticClass:"btn_RepeatAll"})])]),n("div")])])},o=[],l=(n("34ef"),{name:"Player",props:{msg:String},data:function(){return{albums:[{albumTitle:"Quincas Moreira",cover_url:"",no:1,songTitle:"Metamorphosis",file_url:"https://www.youtube.com/audiolibrary_download?vid=86dd9259b534cc4d"},{albumTitle:"Quincas Moreira",cover_url:"",no:2,songTitle:"Mariposa",file_url:"https://www.youtube.com/audiolibrary_download?vid=3d9ea88f85a351f8"},{albumTitle:"Quincas Moreira",cover_url:"",no:2,songTitle:"Spy Suite",file_url:"https://www.youtube.com/audiolibrary_download?vid=f560266c20699a04"}],currentSongIdx:0,songTitle:null,albumTitle:null,play_song:null,playing:!1,volume:50,process:0,mode:"repeatall",Shuffle:!1,currentTime:0,maxTime:0,mouseDownCheck:!1,canvas:null,canvasProp:{},ctx:null,analyser:null,audioSrc:null,frequencyData:null}},methods:{playHandle:function(){this.$refs.playC.play(),this.playing=!0,console.log("play event")},StopHandle:function(){this.$refs.playC.pause(),this.playing=!1,console.log("stop event")},PlayNextHandle:function(){this.currentSongIdx==this.albums.length-1?this.currentSongIdx=0:this.currentSongIdx++;var e=this.albums[this.currentSongIdx];this.loadMusic(e)},PlayPreHandle:function(){0==this.currentSongIdx?this.currentSongIdx=this.albums.length-1:this.currentSongIdx--;var e=this.albums[this.currentSongIdx];this.loadMusic(e)},VolumeChangeHandle:function(e){this.$refs.playC.volume=e.target.value/100},ProcessChangeHandle:function(e){var t=this.$refs.playC;t.paused;t.currentTime=e.target.value/1e3*this.maxTime},SwitchModeHandle:function(){var e;switch(this.mode){case"repeatOne":e="repeatAll";break;case"repeatAll":e="random";break;case"random":e="repeatOne";break;default:e="repeatOne";break}this.mode=e},toHHMMSS:function(e){var t=parseInt(e,10),n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),s=t-3600*n-60*a;return n<10&&(n="0"+n),a<10&&(a="0"+a),s<10&&(s="0"+s),n+":"+a+":"+s},getCurrentTime:function(){1!=this.mouseDownCheck&&(this.currentTime=this.$refs.playC.currentTime,this.process=this.currentTime/this.maxTime*1e3)},CheckMouseDown:function(){this.mouseDownCheck=!0},CheckMouseUp:function(){this.mouseDownCheck=!1},renderFrame:function(){var e=new Uint8Array(this.analyser.frequencyBinCount);this.analyser.getByteFrequencyData(e);var t=Math.round(e.length/this.canvasProp.meterNum);this.ctx.clearRect(0,0,this.canvasProp.cwidth,this.canvasProp.cheight),this.ctx.fillStyle=this.canvasProp.bg_gradient,this.ctx.fillRect(0,0,this.canvasProp.cwidth,this.canvasProp.cheight),this.ctx.beginPath(),this.ctx.moveTo(0,this.canvasProp.cheight/2),this.ctx.lineTo(this.canvasProp.cwidth,this.canvasProp.cheight/2),this.ctx.strokeStyle=this.canvasProp.lineColor,this.ctx.lineWidth=.5,this.ctx.stroke();for(var n=0;n<this.canvasProp.meterNum;n++){var a=e[n*t];this.canvasProp.capYPositionArray.length<Math.round(Math.abs(this.canvasProp.meterNum))&&this.canvasProp.capYPositionArray.push(a),this.ctx.fillStyle=this.canvasProp.lineColor,this.ctx.fillRect(this.canvasProp.cwidth-6*n-this.canvasProp.meterWidth,(this.canvasProp.cheight-a)/2,this.canvasProp.meterWidth,a)}requestAnimationFrame(this.renderFrame)},loadMusic:function(e){var t=this,n=t.$refs.playC;this.play_song=e.file_url,t.albumTitle=e.albumTitle,t.songTitle=e.songTitle,this.process=0,n.load(),n.oncanplay=function(){t.maxTime=n.duration,t.playing&&n.play()}},songendHandle:function(){var e=this.$refs.playC;"repeatOne"==this.mode?e.currentTime=0:"repeatall"==this.mode&&this.PlayNextHandle()}},computed:{calculatePercentage:function(){return this.currentTime/this.maxTime*100}},watch:{process:function(){this.currentTime=this.$refs.process.value/1e3*this.maxTime},volume:function(){this.$refs.playC.volume=this.$refs.volume.value/100}},mounted:function(){var e=this,t=this.$refs.playC,n=(this.$refs.audioSource,e.albums[0]);t.ontimeupdate=this.getCurrentTime,t.onended=this.songendHandle;for(var a=0;a<100;a++)console.log(Math.floor(Math.random()*this.albums.length));this.loadMusic(n)}}),c=l,u=(n("d535"),n("2877")),h=Object(u["a"])(c,r,o,!1,null,"3e4a0401",null),p=h.exports,d={name:"app",components:{Player:p}},f=d,m=(n("7121"),Object(u["a"])(f,s,i,!1,null,null,null)),v=m.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(v)}}).$mount("#app")},7121:function(e,t,n){"use strict";var a=n("1e25"),s=n.n(a);s.a},d535:function(e,t,n){"use strict";var a=n("0cee"),s=n.n(a);s.a}});
//# sourceMappingURL=app.c7790f4d.js.map